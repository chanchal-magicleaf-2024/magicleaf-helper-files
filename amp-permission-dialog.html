
<!doctype html>
<html>
<!-- AMP Web Push Permission Dialog -->

<head>
  <meta charset="utf-8">
  <title>Push Notifications Powered by PushBluster.com</title>

  <style builtin>
    /* Do not edit styles in this section. Add custom styles in the next
       style section */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    /* Default loading spinner */
    .spinner,
    .spinner:after {
      border-radius: 50%;
      width: 10em;
      height: 10em;
    }
    .spinner {
      margin: 60px auto;
      font-size: 10px;
      position: relative;
      text-indent: -9999em;
      border-top: 1.1em solid rgba(140, 140, 140, 0.2);
      border-right: 1.1em solid rgba(140, 140, 140, 0.2);
      border-bottom: 1.1em solid rgba(140, 140, 140, 0.2);
      border-left: 1.1em solid rgb(140, 140, 140);
      -webkit-transform: translateZ(0);
      -ms-transform: translateZ(0);
      transform: translateZ(0);
      -webkit-animation: spinner 1.1s infinite linear;
      animation: spinner 1.1s infinite linear;
    }
    @-webkit-keyframes spinner {
      0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
      }
    }
    @keyframes spinner {
      0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
      }
    }

    /* Horizontally and vertically center items */
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
      box-sizing: border-box;
    }

    /* Page message text styles */
    .message {
      font-size: 22px;
      font-family: sans-serif;
      text-align: center;
    }

    /* Close icon styles */
    #close {
      position: fixed;
      right: 32px;
      top: 32px;
      width: 32px;
      height: 32px;
      opacity: 0.5;
      cursor: pointer;
    }
    #close:before, #close:after {
      position: fixed;
      right: 48px;
      content: ' ';
      height: 33px;
      width: 3px;
      background-color: #333;
    }
    #close:before {
      transform: rotate(45deg);
    }
    #close:after {
      transform: rotate(-45deg);
    }

    /* Used to hide the preload and postload sections */
    .invisible {
      display: none;
    }
  </style>
</head>
<body>
  <div id="preload">
    <div class="spinner"></div>
  </div>
  <div id="postload" class="invisible">
    <span id="close"></span>
    <div permission="default">
      <p class="message">
        Click Allow to receive notifications.
      </p>
    </div>
    <div permission="denied">
      <p class="message">
        Please unblock notifications in your browser settings to receive notifications from this website.
      </p>
    </div>
  </div>
  <script>;
!function(){Array.isArray;var t=Object.prototype;function i(t){var i=Object.create(null);return t&&Object.assign(i,t),i}t.hasOwnProperty,t.toString;var n=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function e(t,i,n,e,r){return r||(i?"ï¿½":e?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}var r=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function s(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return i}}var o="amp-web-push";function a(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var h=self.__AMP_LOG;function c(){return h.dev||(h.dev=function(t,i){throw new Error("failed to call initLogConstructor")}())}function u(t){return t.data}var f,l,d=function(){function t(t){this.En=t,this.In=0,this.On=0,this.Rn=i()}var n=t.prototype;return n.has=function(t){return!!this.Rn[t]},n.get=function(t){var i=this.Rn[t];if(i)return i.access=++this.On,i.payload},n.put=function(t,i){this.has(t)||this.In++,this.Rn[t]={payload:i,access:this.On},this.jn()},n.jn=function(){if(!(this.In<=this.En)){var t,i=this.Rn,n=this.On+1;for(var e in i){var r=i[e].access;r<n&&(n=r,t=e)}void 0!==t&&(delete i[t],this.In--)}},t}();function v(t,i){return f||(f=self.document.createElement("a"),l=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new d(100))),function(t,i,n){if(n&&n.has(i))return n.get(i);t.href=i,t.protocol||(t.href=t.href);var e,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),e=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=e;var s=r;return n&&n.put(i,s),s}(f,t,i?null:l)}var w=function(){function t(t){t||(t={debug:!1,windowContext:window}),this.fn={},this.Wn={},this.Dn=t.debug,this.Gn=!1,this.Kn=!1,this.Vn=!1,this.qn=null,this.Hn=null,this.Zn=null,this.$n=null,this.Bn=null,this.Qn=t.windowContext||window}var i,n,e=t.prototype;return e.listen=function(i){var n=this;return new Promise((function(t,e){n.Vn?e(new Error("Already connected.")):n.Gn?e(new Error("Already listening for connections.")):Array.isArray(i)?(n.Zn=n.Xn.bind(n,i,t,e),n.Qn.addEventListener("message",n.Zn),n.Dn&&c().fine(o,"Listening for a connection message...")):e(new Error("allowedOrigins should be a string array of allowed origins to accept messages from. Got:",i))})).then((function(){n.send(t.Topics.CONNECT_HANDSHAKE,null),n.Vn=!0}))},e.Yn=function(t,i){for(var n=v(t).origin,e=0;e<i.length;e++)if(v(i[e]).origin===n)return!0;return!1},e.Xn=function(i,n,e,r){var s=u(r),a=r.origin,h=r.ports;this.Dn&&c().fine(o,"Window message for listen() connection received:",s),this.Yn(a,i)?s&&s.topic===t.Topics.CONNECT_HANDSHAKE?(c().fine(o,"Received expected connection handshake message:",s),this.Qn.removeEventListener("message",this.Zn),this.Hn=h[0],this.Bn=this.Ct.bind(this),this.Hn.addEventListener("message",this.Bn,!1),this.Hn.start(),n()):c().fine(o,"Discarding connection message because it did not contain our expected handshake:",s):c().fine(o,"Discarding connection message from ".concat(a," ")+"because it isn't an allowed origin:",s," (allowed  origins are)",i)},e.connect=function(i,n){var e=this;return new Promise((function(r,s){i||s(new Error("Provide a valid Window context to connect to.")),n||s(new Error("Provide an expected origin for the remote Window or provide the wildcard *.")),e.Vn?s(new Error("Already connected.")):e.Kn?s(new Error("Already connecting.")):(e.qn=new MessageChannel,e.Hn=e.qn.port1,e.$n=e.It.bind(e,e.Hn,n,r),e.Hn.addEventListener("message",e.$n),e.Hn.start(),i.postMessage({topic:t.Topics.CONNECT_HANDSHAKE},"*"===n?"*":v(n).origin,[e.qn.port2]),c().fine(o,"Opening channel to ".concat(n,"...")))}))},e.It=function(t,i,n){this.Vn=!0,this.Dn&&c().fine(o,"Messenger channel to ".concat(i," established.")),t.removeEventListener("message",this.$n),this.Bn=this.Ct.bind(this),t.addEventListener("message",this.Bn,!1),n()},e.Ct=function(t){var i=u(t);if(this.fn[i.id]&&i.isReply){var n=this.fn[i.id];delete this.fn[i.id];var e=n.promiseResolver;n.message=i.data,this.Dn&&c().fine(o,"Received reply for topic '%s': %s",i.topic,i.data),e([i.data,this._t.bind(this,i.id,n.topic)])}else{var r=this.Wn[i.topic];if(!r)return;this.Dn&&c().fine(o,"Received new message for "+"topic '".concat(i.topic,"': ").concat(i.data));for(var s=0;s<r.length;s++)(0,r[s])(i.data,this._t.bind(this,i.id,i.topic))}},e.on=function(t,i){this.Wn[t]?this.Wn[t].push(i):this.Wn[t]=[i]},e.off=function(t,i){if(i){var n=this.Wn[t].indexOf(i);-1!==n&&this.Wn[t].splice(n,1)}else this.Wn[t]&&delete this.Wn[t]},e._t=function(t,i,n){var e=this,r={id:t,topic:i,data:n,isReply:!0};return this.Hn.postMessage(r),new Promise((function(t){e.fn[r.id]={message:n,topic:i,promiseResolver:t}}))},e.send=function(t,i){var n=this,e={id:crypto.getRandomValues(new Uint8Array(10)).join(""),topic:t,data:i};return this.Dn&&c().fine(o,"Sending %s: %s",t,i),this.Hn.postMessage(e),new Promise((function(r){n.fn[e.id]={message:i,topic:t,promiseResolver:r}}))},i=t,(n=[{key:"Topics",get:function(){return{CONNECT_HANDSHAKE:"topic-connect-handshake",NOTIFICATION_PERMISSION_STATE:"topic-notification-permission-state",SERVICE_WORKER_STATE:"topic-service-worker-state",SERVICE_WORKER_REGISTRATION:"topic-service-worker-registration",SERVICE_WORKER_QUERY:"topic-service-worker-query",STORAGE_GET:"topic-storage-get"}}}])&&a(i,n),t}(),g=function(){function t(t){this.Dn=t&&t.debug,this.Qn=t.windowContext||window,this.Nt=new w({debug:this.Dn,windowContext:this.Qn})}var o=t.prototype;return o.isCurrentDialogPopup=function(){return!!this.Qn.opener&&this.Qn.opener!==this.Qn},o.requestNotificationPermission=function(){var t=this;return new Promise((function(i,n){try{t.Qn.Notification.requestPermission((function(t){return i(t)}))}catch(t){n(t)}}))},o.run=function(){this.tw(),this.iw(),this.nw(),this.ew(),"denied"!==this.Qn.Notification.permission?this.rw():this.sw()},o.tw=function(){var t=this,i=this.Qn.document.querySelector("#close");i&&i.addEventListener("click",(function(){t.closeDialog()}))},o.closeDialog=function(){if(this.isCurrentDialogPopup())this.Qn.close();else{var t=function(t){var n,e=i();if(!t)return e;for(;n=r.exec(t);){var o=s(n[1],n[1]),a=n[2]?s(n[2].replace(/\+/g," "),n[2]):"";e[o]=a}return e}((this.Qn.fakeLocation||this.Qn.location).search);if(!t.return)throw new Error("Missing required parameter.");var n=s(t.return);this.redirectToUrl(n)}},o.sw=function(){var t=this;navigator.permissions.query({name:"notifications"}).then((function(i){i.onchange=function(){switch(t.iw(),t.Qn.Notification.permission){case"default":case"granted":t.rw()}}}))},o.iw=function(){this.Qn.localStorage.setItem("amp-web-push-notification-permission",this.Qn.Notification.permission)},o.nw=function(){for(var t=this.Qn.document.querySelectorAll("[permission]"),i=0;i<t.length;i++){var r=t[i];this.ow(r,!1)}var s,o=this.Qn.document.querySelector("[permission=".concat((s=this.Qn.Notification.permission,String(s).replace(n,e)),"]"));o&&this.ow(o,!0)},o.ew=function(){var t=this.Qn.document.querySelector("#preload"),i=this.Qn.document.querySelector("#postload");t&&i&&(this.ow(t,!1),this.ow(i,!0))},o.ow=function(t,i){if(t){var n="invisible";i?t.classList.remove(n):t.classList.add(n)}},o.rw=function(){var t=this;return this.requestNotificationPermission().then((function(i){if(t.iw(),t.isCurrentDialogPopup())return t.Nt.connect(opener,"*"),t.Nt.send(w.Topics.NOTIFICATION_PERMISSION_STATE,i).then((function(i){var n=i[0];n&&n.closeFrame&&t.closeDialog()}));t.closeDialog()}))},o.redirectToUrl=function(t){var i=v(t);!i||"http:"!==i.protocol&&"https:"!==i.protocol||(this.Qn.location.href=t)},t}();window._ampWebPushPermissionDialog=new g({debug:!1}),window._ampWebPushPermissionDialog.run()}(); document.body.insertAdjacentHTML('beforeend', atob('PGRpdiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlO2JvdHRvbTogMDtyaWdodDogMTBweDtib3JkZXI6IDJweCBzb2xpZCAjMDA3NWZmO3BhZGRpbmc6IDhweCAxMHB4O2ZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO2JvcmRlci1ib3R0b206IDA7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNnB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA2cHg7Zm9udC1zaXplOiAxMnB4OyI+UG93ZXJlZCBieSA8YSBocmVmPSJodHRwczovL3B1c2hibHVzdGVyLmNvbS8iIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6ICMwMDc1ZmY7dGV4dC1kZWNvcmF0aW9uOiBub25lOyI+UHVzaEJsdXN0ZXI8L2E+PC9kaXY+'));
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=amp-web-push-permission-dialog.js.map</script>
</body>
</html>
